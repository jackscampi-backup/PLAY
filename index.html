<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DRUMMER - Beat Generator per Bassisti</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="rack-wrapper">
    <div class="rack-container">
    <!-- DRUMMER Unit -->
    <div class="rack-unit rack-main">
        <!-- Viti angolari -->
        <div class="rack-screw top-left"></div>
        <div class="rack-screw top-right"></div>
        <div class="rack-screw bottom-left"></div>
        <div class="rack-screw bottom-right"></div>

        <!-- Header Panel -->
        <header class="rack-header">
            <div class="header-toggles-left">
                <button class="display-toggle" id="beatPlayBtn">
                    <span class="toggle-led"></span>
                    <span class="toggle-label">ON</span>
                </button>
            </div>
            <div class="logo-display">DRUMMER</div>
            <div class="bar-indicator" id="barIndicator">
                <!-- Populated dynamically for multi-bar patterns -->
            </div>
        </header>

        <!-- Main Panel -->
        <main class="rack-panel">

            <!-- Genre Section -->
            <section class="panel-section">
                <div class="section-label">GENRE</div>
                <div class="button-grid" id="genreButtons">
                    <!-- Populated by JS -->
                </div>
            </section>

            <!-- Pattern Section -->
            <section class="panel-section">
                <div class="section-label">PATTERN</div>
                <div class="button-grid" id="variationButtons">
                    <!-- Populated by JS -->
                </div>
            </section>


            <!-- Pattern Display -->
            <section class="pattern-section">
                <div class="pattern-grid">
                    <!-- Beat Counter Row -->
                    <div class="beat-row">
                        <div class="beat-group">
                            <span class="beat-num" data-beat="1">1</span>
                            <span class="beat-dot">·</span>
                            <span class="beat-dot">·</span>
                            <span class="beat-dot">·</span>
                        </div>
                        <div class="beat-group">
                            <span class="beat-num" data-beat="2">2</span>
                            <span class="beat-dot">·</span>
                            <span class="beat-dot">·</span>
                            <span class="beat-dot">·</span>
                        </div>
                        <div class="beat-group">
                            <span class="beat-num" data-beat="3">3</span>
                            <span class="beat-dot">·</span>
                            <span class="beat-dot">·</span>
                            <span class="beat-dot">·</span>
                        </div>
                        <div class="beat-group">
                            <span class="beat-num" data-beat="4">4</span>
                            <span class="beat-dot">·</span>
                            <span class="beat-dot">·</span>
                            <span class="beat-dot">·</span>
                        </div>
                    </div>

                    <!-- Kick Row -->
                    <div class="step-row" id="kickPattern"></div>

                    <!-- Snare Row -->
                    <div class="step-row" id="snarePattern"></div>

                    <!-- Hi-Hat Row -->
                    <div class="step-row" id="hihatPattern"></div>
                </div>
            </section>

        </main>

        <!-- Footer -->
        <footer class="rack-footer">
            <span class="footer-text">SPACE = PLAY/STOP</span>
        </footer>
    </div>

    <!-- AUDIO Panel Unit -->
    <div class="rack-unit rack-audio">
        <!-- Viti angolari -->
        <div class="rack-screw top-left"></div>
        <div class="rack-screw top-right"></div>
        <div class="rack-screw bottom-left"></div>
        <div class="rack-screw bottom-right"></div>

        <!-- Header -->
        <header class="rack-header">
            <div class="logo-display">AUDIO</div>
        </header>

        <!-- Main Panel -->
        <main class="rack-panel audio-panel">

            <!-- Master Section -->
            <section class="panel-section audio-section">
                <div class="section-label">MASTER</div>
                <div class="audio-control">
                    <span class="control-name">Auto</span>
                    <button class="auto-btn" id="autoModeBtn">
                        <span class="auto-led"></span>
                        <span class="auto-label">AUTO</span>
                    </button>
                </div>
                <div class="audio-control">
                    <span class="control-name">Bpm</span>
                    <div class="bpm-control">
                        <button class="bpm-btn" id="bpmMinus">-</button>
                        <input type="text" class="bpm-input" id="bpmDisplay" value="120" maxlength="3">
                        <button class="bpm-btn" id="bpmPlus">+</button>
                    </div>
                </div>
                <div class="audio-control">
                    <span class="control-name">Vol</span>
                    <input type="range" class="audio-slider" id="masterVolume" min="0" max="100" value="80">
                </div>
            </section>

            <!-- Kick Section -->
            <section class="panel-section audio-section instrument-row">
                <span class="instrument-label">KICK</span>
                <select class="audio-select" id="kickType">
                    <option value="deep">Deep</option>
                    <option value="punchy">Punchy</option>
                    <option value="808">808</option>
                    <option value="acoustic">Acoustic</option>
                </select>
                <input type="range" class="audio-slider" id="kickVolume" min="0" max="100" value="70">
            </section>

            <!-- Snare Section -->
            <section class="panel-section audio-section instrument-row">
                <span class="instrument-label">SNARE</span>
                <select class="audio-select" id="snareType">
                    <option value="tight">Tight</option>
                    <option value="fat">Fat</option>
                    <option value="rim">Rim</option>
                    <option value="clap">Clap</option>
                </select>
                <input type="range" class="audio-slider" id="snareVolume" min="0" max="100" value="70">
            </section>

            <!-- Hi-Hat Section -->
            <section class="panel-section audio-section instrument-row">
                <span class="instrument-label">HI-HAT</span>
                <select class="audio-select" id="hihatType">
                    <option value="closed">Closed</option>
                    <option value="open">Open</option>
                    <option value="shaker">Shaker</option>
                    <option value="ride">Ride</option>
                </select>
                <input type="range" class="audio-slider" id="hihatVolume" min="0" max="100" value="60">
            </section>

            <!-- Vinyl Section -->
            <section class="panel-section audio-section">
                <div class="audio-control">
                    <span class="control-name">Vinyl</span>
                    <input type="range" class="audio-slider" id="vinylAmount" min="0" max="100" value="0">
                </div>
            </section>

        </main>

        <!-- Footer -->
        <footer class="rack-footer">
            <span class="footer-text">SOUND CONTROL</span>
        </footer>
    </div>
    </div><!-- /rack-container -->

    <!-- BASSIST Unit -->
    <div class="rack-unit rack-bassist">
        <!-- Viti angolari -->
        <div class="rack-screw top-left"></div>
        <div class="rack-screw top-right"></div>
        <div class="rack-screw bottom-left"></div>
        <div class="rack-screw bottom-right"></div>

        <!-- Header -->
        <header class="rack-header">
            <div class="logo-display">BASS</div>
            <div class="header-toggles-right">
                <button class="display-toggle" id="notationToggle" onclick="fretboard.toggleNotation()">
                    <span class="toggle-led"></span>
                    <span class="toggle-label">ITA</span>
                </button>
            </div>
        </header>

        <!-- Main Panel -->
        <main class="rack-panel bassist-panel">
            <!-- Root Note Selection -->
            <section class="panel-section">
                <div class="section-label">ROOT</div>
                <div class="button-grid root-grid" id="rootButtons">
                    <!-- Populated by JS -->
                </div>
            </section>

            <!-- Scale Selection -->
            <section class="panel-section">
                <div class="section-label">SCALE</div>
                <div class="button-grid scale-grid" id="scaleButtons">
                    <!-- Populated by JS -->
                </div>
            </section>

            <!-- View Toggles -->
            <section class="panel-section">
                <div class="section-label">VIEW</div>
                <div class="button-grid view-grid">
                    <button class="display-toggle" id="arpToggle" onclick="fretboard.toggleArpeggio()">
                        <span class="toggle-led"></span>
                        <span class="toggle-label">ARP</span>
                    </button>
                    <button class="display-toggle" id="shapeToggle" onclick="fretboard.toggleShape()">
                        <span class="toggle-led"></span>
                        <span class="toggle-label">BOX</span>
                    </button>
                    <button class="display-toggle" id="displayToggle" onclick="fretboard.toggleDisplay()">
                        <span class="toggle-led"></span>
                        <span class="toggle-label">INT</span>
                    </button>
                    <button class="display-toggle" id="grooveToggle" onclick="fretboard.toggleGrooveMode()">
                        <span class="toggle-led"></span>
                        <span class="toggle-label">GROOVE</span>
                    </button>
                    <button class="display-toggle play-toggle" id="scalePlayBtn" onclick="fretboard.togglePlay()">
                        <span class="toggle-led"></span>
                        <span class="toggle-label">PLAY</span>
                    </button>
                </div>
            </section>

            <!-- Grooves Selection -->
            <section class="panel-section groove-section">
                <div class="section-label">GROOVES</div>
                <div class="groove-categories" id="grooveCategories">
                    <!-- Populated by JS -->
                </div>
                <select class="audio-select groove-select-full" id="grooveSelect" onchange="fretboard.selectGroove(this.value)">
                    <option value="">-- Select --</option>
                </select>
            </section>

            <!-- Fretboard -->
            <section class="panel-section fretboard-section">
                <div id="fretboard" class="fretboard">
                    <!-- Populated by JS -->
                </div>
            </section>

            <!-- Groove Pattern Display (under fretboard) -->
            <section class="panel-section bassist-bottom-section">
                <div class="bassist-bottom-layout">
                    <!-- Pattern Grid (same as DRUMMER) -->
                    <div class="bass-pattern-section" id="groovePatternDisplay">
                        <div class="pattern-grid">
                            <!-- Beat Counter Row -->
                            <div class="beat-row">
                                <div class="beat-group">
                                    <span class="beat-num" data-beat="1">1</span>
                                    <span class="beat-dot">·</span>
                                    <span class="beat-dot">·</span>
                                    <span class="beat-dot">·</span>
                                </div>
                                <div class="beat-group">
                                    <span class="beat-num" data-beat="2">2</span>
                                    <span class="beat-dot">·</span>
                                    <span class="beat-dot">·</span>
                                    <span class="beat-dot">·</span>
                                </div>
                                <div class="beat-group">
                                    <span class="beat-num" data-beat="3">3</span>
                                    <span class="beat-dot">·</span>
                                    <span class="beat-dot">·</span>
                                    <span class="beat-dot">·</span>
                                </div>
                                <div class="beat-group">
                                    <span class="beat-num" data-beat="4">4</span>
                                    <span class="beat-dot">·</span>
                                    <span class="beat-dot">·</span>
                                    <span class="beat-dot">·</span>
                                </div>
                            </div>
                            <!-- Bass Step Row -->
                            <div class="step-row" id="grooveStepRow">
                                <!-- Populated by JS - 16 steps -->
                            </div>
                        </div>
                    </div>
                    <!-- Control Box (right side) -->
                    <div class="bassist-control-box">
                        <!-- Space for future controls -->
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="rack-footer">
            <span class="footer-text">4-STRING BASS FRETBOARD</span>
        </footer>
    </div>

    </div><!-- /rack-wrapper -->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.js"></script>
    <script src="js/patterns.js"></script>
    <script src="js/scales.js"></script>
    <script src="js/sounds.js"></script>
    <script src="js/riffs.js"></script>
    <script src="js/beatgen.js"></script>
    <script src="js/fretboard.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
